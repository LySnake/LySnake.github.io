---
title: it
comments: true
categories:
  - archives
  - technology
tags:
  - C++
  - C++ Primer Plus
  - cocos2d-x
description: 个人根据已有的C基础，学习《C++ Primer Plus》的学习笔记
date:  {{ date }}
update: {{ update }}
---
## 14 C++中的代码重用 ##


### 14.1 包含对象成员的类 ###
**has-a**:本身是另一个类的对象作为对象成员。这种方法称为包含、组合或层次化。另一种方法是人敷衍私有或保护继承。获得接口是is-a关系的组成部分。而使用组合，类可以获得实现，但不能获得接口。不继承接口是has-a关系的组成部分。

**多重继承**：使得能够使用两个或更多的基类派生出来新的类，将基类的功能组合在一起。


模板特性意味着声明对象时，必须指定具体的数据类型。

对于继承的基类对象部分，构造函数在成员初始化列表中使用类名来调用特定的基类构造函数。对于成员对象，构造函数则使用成员名。C++要求在构建对象的其它部分之前，先构建继承对象的所有成员对象。因此，如果初始化列表，C++将使用成员对象类的默认构造函数。

### 14.2 私有继承 ###
C++还有另一种实现has-a关系的途径--私有继承，基类的公有成员和保护成员都将成为派生类的私有成员。这意味着基类方法将不会成为派生对象公有接口的一部分，但可以在派生类的成员函数中使用它们。

使用公有继承，基类的公有方法将成为派生类的公有方法。简而言之，派生类将继承基类的接口：这是is-a关系的一部分。使用私有继承，基类的公有方法将成为派生类的私有方法，简而言之，派生类不继承基类的接口。正如从被包含对象中看到的，这种不完全继承是has-a关系的一部分。

包含将对象作为一个命名的成员对象添加到类中，而私有继承将对象作为一个未被命名的继承对象添加到类中。

当在头文件使用class声明派生类时，如果没有使用public等关键字声明如何继承基类，则以默认方式private方式继承。

使用多个基类的继承被称为多重继承（multiple inheritance,MI）.

对于继承基类的对象部分，使用初始化列表方法，使用基类的构造函数初始化基类的对象部分。

私有继承时，通过强制类型转换访问基类对象部分。

用类名显式地限定函数名不适合于码元函数，这是因为码元不属于类。不过，可以通过显式地转换为基类来调用正确的函数。在私有继承中，在不进行显式类型转换的情况下，不能将指向派生类的引用或指针赋给基类引用或指针(基类公有方法通过私有继承成为派生类的私有方法)。另外，由于派生类使用的是多继承，编译器将无法确定应转换成哪个基类，如果两个基类都提供了相同的函数。



