layout: post
title: '''SQL Server从入门到精通(1)'''
date: 2018-02-26 23:24:05
comments: true
categories:
  - archives
  - technology
tags:
  - SQL
description: 个人学习SQL笔记
updated: {{ updated }}
---

##  第一章 数据库基础  ##

数据库系统(DataBase System, DBS)是由数据库及期管理软件组成的系统，人们常把与数据库有关的硬件和软件系统称为数据库系统。

#### 1.1.1 数据库技术的发展 ####

**人工管理阶段**、**文件系统阶段**、**数据库系统阶段**。

#### 1.1.2 数据库系统的组成 ####

数据库系统是采用数据库技术的计算机系统，是由数据库(数据)、数据库管理系统(软件)、数据库管理员(人员)、硬件平台(硬件)和软件平台(软件)5部分构成的运行实体。其中，数据库管理员(DataBase Administrator, DBA)是对数据库进行规划、设计、维护和监视等的专业管理人员，在数据库系统中起着非常重要的作用。

### 1.2 数据库的体系结构 ###

数据库具有一个严谨的体系结构，这样可以有效地组织、管理数据，提高数据库的逻辑独立性和物理独立。数据库领域公认的标准结构是三级模式结构。

#### 1.2.1 数据库的三级模式结构 ####

数据库系统的三级模式结是指模式、外模式、内模式。

**模式**：也称逻辑模式或概念模式，它是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图。一个数据库只有一个模式，模式处于三级结构的中间层。定义模式时不仅要定义数据的逻辑结构，而且要定义数据之间的联系，定义与数据有关的安全性、完整性要求。

**外模式**：也称为用户模式，它是数据库用(包括应用程序员和最终用户)能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图，是与某一应用有关的数据的逻辑表示。外模式是模式的子集。一个数据库可以有多个外模式。外模式是保证数据安全性的一个有力措施。

**内模式**：也称为存储模式，一个数据库只有一个内模式。它是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式。

```
**外模式/模式映射**:对应于同一个模式可以有任意多个外模式。对于每一个外模式，数据库系统都有一个外模式/模式映射。当模式改变时，由数据库管理员对各个外模式/模式映射作相应的改，可以使用外模式保持不变。这样，依据数据外模式编写的应用程序就不用修改，保证了数据与程序的逻辑独立性。

**模式/内模式映射**：数据库中只有一个模式和一个内模式，所以模式/内模式映射是唯一的，它定义了数据库的全局逻辑结构与存储结构之间的对应关系。当数据库的存储结构改变时，由数据库管理员对模式/内模式映射作相应的改变，可以使模式保持不变，应用程序相应地也不作变动。这样，保证了数据与程序的物理独立性。

```
### 1.3 数据模型 ###

数据模型是一种对客观事物抽象化的表现形式。它对客观事物加以抽象，通过计算机来处理现实世界中的具体事物。它客观地反映了现实世界，易于理解，与人们对外部事物描述的认识相一致。

#### 1.3.1 数据模型的概念 ####

数据模型是数据库系统的核心与基础，是描述数据与数据之间的联系、数据的语义、数据一致性约束的概念性工具的集合。
	
```
	数据模型通常是由数据结构、数据操作和完整性约束3部分组成的。

	1. 数据结构：是对系统静态特征的描述。描述对象包括数据的类型、内容、性质和数据之间的相互关系。
	2. 数据操作：是对系统动态特征的描述，是对数据库中各种对象实例的操作。
	3. 完整性约束：是完整性规则的集合。它定义了 给定数据模型中数据及其联系所具有的制约和储存规则。
```  

#### 1.3.2 常见的数据模型  #### 

常用的数据库数据模型主要有层次模型、网状模型和关系模型。

**层次模型**：用树形结构表示实体类型及实体联系的数据模型称为层次模型，它具有以下特点：

* 每棵树有且仅有一个无双亲节点，称为根。
* 打对除根外所有节点有且仅有一个双亲。

**网状模型**：用有向图结构表示实体类型及实体间联系的数据模型称为网状模型。用网状模型编写应用程序极其复杂，数据的独立性较差。

**关系模型**：以二维表来描述数据。在关系模型中，每个表有多个字段列和记录行，每个字段列有固定的属性(数字、字符、日期等)。关系模型数据结构简单、清晰、具有很高的数据独立性，因此是目前主流的数据库数据模型。

关系模型的基本术语如下：

* 关系：一个二维表就是一个关系。
* 元组：就是二维表中的一行，即表中的记录。
* 属性：就是二维表中的一列，用类型和值表示。
* 域：每个属性聚会的变化范围，如性别的域为{男、女}

关系模型中的数据约束如下：

* 实体完整性约束：约束关系的主键属性值不能为空值。
* 参照完整性约束：关系之间的基本约束。
* 用户定义的完整性约束：它反映了具体应用中数据的语义要求。


#### 1.3.3 关系数据库的规范化 ####

关系数据库的规范化理论认为：关系数据库中的每一个关系都要满足一定的规范。根据满足规范的条件不同，可以分为5个等级：第一范式(1NF)、第二范式(2NF)······第五范式(5NF).其中，NF是Normal Form的缩写。一般情况下，只要把数据规范到第三范式(3NF)标准即可满足需要。

* 第一范式(1NF)：在一个关系中，消除重复字段，且各字段都是最小的逻辑存储单位。
* 第二范式(2NF)：若关系模型属于第一范式(NF)，则关系中每一个非主关键字段都完全依赖于主关键字段，不能只部分依赖于主关键字段的一部分。
* 第三范式(3NF)：若关系模型属于第一范式(1NF)，且关系中所有非主关键字段都只依赖于主关键字段。第三范式(3NF)要求去除传递依赖。

#### 1.3.4 关系数据库的设计原则 ####

数据库设计是指对于一个给定的应用环境，根据用户的需求，利用数据模型和应用程序模拟现实世界中该应用环境的数据结构和处理活动的过程。

数据库设计原则如下：

1. 数据库内数据文件的数据组织应获得最大限度的共享、最小的冗余度，消除数据及数据依赖关系中的冗余部分，使依赖于同一个数据模型的数据达到有效的分享。
2. 保证输入、修改数据时数据的一致性与正确性。
3. 保证数据与使用数据的应用程序之间的高度独立性。

#### 1.3.5 实体怀关系 ####

实体是指客观存在并可相互区别的事物。实体既可以是实际的事物，也可以是抽象的概念或关系。实体之间有3种关系。

* 一对一关系：是指表A中的一条记录确实在表B中有且只有一条相匹配的记录。在一对一关系中，大部分相关信息都在一个表中。
* 一对多关系：是指表A中的行要吧在表B中有许多匹配行，但是表B中的行只能在表A中有一个匹配行。
* 多对多关系：是指关系中每个表的行在相关表中具有多个匹配行。在数据库中，多对多关系的建立是领先第3个表(称作连接表)实现的，连接表包含相关的两个表的主键列，然后从两个相关表的主键列分别创建与连接表中的匹配列的关系。

### 1.4 常见的关系数据库 ###

关系数据库， 是建立在关系数据库模型基础上的数据库，是通过集合代数等概念和方法来处理数据的数据库。

#### 1.4.1 Access 数据库 ####
Microsoft Access 是当前流行的关系数据库管理系统之一，其核心是Microsoft Jet数据库引擎。通常情况下，安装Microsoft Office时选择“默认安装”，Access数据库即被安装到计算机上。

Microsoft Access 是一个非常容易掌握的数据库管理系统，利用它可以创建、修改和维护数据库和数据库中的数据，并且可以利用向导来完成对数据库的一系列操作。Access能够满足小开支企业客户/服务器解决方案的要求，是一种功能较完备的系统，它几乎包含了数据库领域的所有技术和内容，对于初学者学习数据库知识非常有帮助。

#### 1.4.2 SQL Server 2000数据库 ####
SQL Server是由微软公司开发的一个大型的关系数据库系统，它为用户提供了一个安全、可靠、易管理和高端的客户/服务器数据库平台。

SQL Server是种高性能的型数据管理系统，以Client/Server为设计结构、支持多个不同的开发平台、魂魄地企业级的应用程序，支持XML等，能够满足不同类型的数据库解决方案。SQL Server数据库大地扩展了系统性能、可靠性和易用性。


#### 1.4.3 SQL Server 2005数据库 ####

1. 统一的开发环境：SQL Server 2005和Visual Studio 2005拥有一个统一的开发环境，使得集成于该环境的编程模型能够提供一个整体的解决方案，并使得程序开发语言、产品配置环境和数据操作这3种专业技能紧密地结合起来，给应用程序的可用性、性能、安全性和可伸缩性带来全面的提升。
2. .NET框架集成：SQL Server 2005 的核心由.NET Framework 2.0构成，数据库的工具整合了 开发环境，有利于数据库的程序开发。

#### 1.4.4 SQL Server 2008 数据库 ####

SQL Server数据库系列历经多次升级已经发展到SQL Server 2008,SQL Server 2008是SQL Server的最新版本，是迄今为止最强大和最全面的SQL ServerTHSG .GH DM CF SQL Server 2008 的企业版、标准版和工作组版进行简要说明。

* SQL Server 2008企业版是一个全面的数据管理和业务智能平台，为关键业务应用提供了企业级的可扩展性、数据仓库、安全、高级分析和报表支持，这一版本将为您提供更加坚固的服务器和支持大规模在线事务处理。
* SQL Server 2008标准版是一个完整的数据管理和业务智能平台，为部分级应用提供了最佳的易用性和可管理性。
* SQL Server 2008 工作组版是一个值得依赖的数据管理和报表平台，用以实现安全的发布、远程同步和对运行分支应用的管理能力，这一版本拥有核心的数据库特性，可以很容易地升级到标准版或企业版。

#### 1.4.5 Oracle数据库 ####

Oracle是美国ORACLE公司提供的以分布式数据库为核心的一组软件产品，Oracle是目前世界上使用最为广泛的关系数据库，它具有完整的数据管理功能，包括数据的大量性、数据保存的持久性、数据的共享性、数据的可靠性。

Oracle在并行处理、实时性、数据处理速度方面都有较好的性能。一般情况下，大型企业选择Oracle作为后台数据库来处理海量的数据。
