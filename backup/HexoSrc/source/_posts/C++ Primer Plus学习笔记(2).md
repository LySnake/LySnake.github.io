---
title: C++ Primer Plus学习笔记(2)
comments: true
categories:
  - archives
  - technology
tags:
  - C++
description: 个人根据已有的C基础，学习《C++ Primer Plus》的学习笔记
date: {{ date }}
update: {{ update }}
---

### 11.使用类 ###

**操作符重载**是一种形式的C++多态，操作符重载将重载的概念扩展到操作符上，允许赋予C++操作符多种含义。要重载操作符，需使用被称为操作符函数的特殊函数形式。操作符函数的格式如下：

```C++
operator op(argument-list)

//可以像使用成员方法一样使用操作符重载
total = coding.operator+(fixing);
//以可以使用操作符表示法：
total = coding + fixing;

注意，在操作符表示法中，操作符左侧的对象（这里为coding）是调用对象，操作符右边（这里是fixing)是作为参数被传递的对象。
```

其中，op是将要重载的操作符。例如，operator +()重载+操作符，operator *()重载*操作符。op必须是有效的C++操作符，不能虚构一个新的符号。

#### 11.2.2操作符重载的限制 ####

- 重载后的操作符必须至少有一个操作数是用户定义，这将防止用户为标准类型重载操作符。因此不能将减法操作符重载为计算两个double值的和，而不是它们的差。
- 使用操作符时不能违反操作符原来的句法规则。例如，不能将求模操作符(%)重载成使用一个操作数（ --> %x;），同样也不能修改操作符的优先级。因此，如果将加号操作符重载成将两个类相加，则新的操作符与原来的加号具有相同的优先级。
- 不能定义新的操作符。
- 不能重载下面的操作符
>- sizeof----sizeof操作符。
>- .----成员操作符。
>- .*----成员指针操作符。
>- ::----作用域解析操作符。
>- ?:----条件操作符。
>- typeid----一个RTTI操作符。
>- const_cast----强制类型转换操作符。
>- dynamic_cast----强制类型转换操作符。
>- reinterpret_cast----强制类型转换操作符。
>- static_cast----强制类型转换操作符。
- 大多操作符都可以通过成员或非成员函数进行重载，但下面的操作符只能通过成员函数进行重载：
>- =----赋值操作符。
>- ()----函数调用操作符。
>- []----下标操作符。
>- ->----通过指针访问的类成员的操作符。

#### 11.3友元简介 ####


